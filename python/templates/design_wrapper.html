<html>

<head>
    <title>Brightspace API Wrapper - Design</title>
</head>

<body>
    <script src="../static/js/toc_generator.js"></script>
    <h1>Brightspace API Wrapper - Design</h1>
    <p>Version 2.0</p>
    <p>Last updated: xxxxxx, 2017</p>

    <div id="toc">
        <h2>Table of Contents</h2>
    </div>

    <h2>Introduction</h2>
    <p>
        The Brightspace API Wrapper is a library used to make calls to the Brightspace API. It allows developers to fetch and push information through the API in a friendly manner. Rather than directly making HTTP requests, developers can simply use the functions available in the wrapper's library. This wrapper is being developed primarily for ezMarker, a web application for uploading grades and feedback to a Brightspace environment. PHP and Python versions of the wrapper are being developed to support the corresponding versions of ezMarker.
    </p>
    <p>This document describes the design of the wrapper's classes and functions, along with providing helpful reference information.</p>

    <h2>Class Design</h2>
    <img src="../static/img/wrapper_design_class_diagram.jpg">
    <b>Additional Comments:</b>
    <ul>
        <li>Trigger exceptions on error</li>
        <li>See the documentation linked in the following section for the specifications of the JSON objects that will be passed as parameters</li>
    </ul>

    <h2>API Functions</h2>
    <h3>Diagram</h3>
    <img src="../static/img/wrapper_design_api_file.jpg">

    <br>
    <b>Additional Comments:</b>
    <ul>
        <li>Trigger exceptions on error. Use response message as error message</li>
    </ul>

    <h3>API Reference</h3>

    <p>This section lists the API requests required by each class</p>

    <h4>Host</h4>
    <ul>
        <li>GET <a href="http://docs.valence.desire2learn.com/res/apiprop.html#get--d2l-api-versions-" target="_blank">/d2l/api/versions/</a></li>
    </ul>

    <h4>OrgMember</h4>
    <p>None.</p>

    <h4>User</h4>
    <ul>
        <li>GET <a href="http://docs.valence.desire2learn.com/res/user.html#get--d2l-api-lp-(version)-users-whoami" target="_blank">/d2l/api/lp/(version)/users/whoami</a></li>
        <li>GET <a href="http://docs.valence.desire2learn.com/res/enroll.html#get--d2l-api-lp-(version)-enrollments-users-(userId)-orgUnits-" target="_blank">/d2l/api/lp/(version)/enrollments/users/(userId)/orgUnits/</a></li>
    </ul>

    <h4>Course</h4>
    <ul>
        <li>GET <a href="http://docs.valence.desire2learn.com/res/enroll.html#get--d2l-api-lp-(version)-enrollments-orgUnits-(orgUnitId)-users-" target="_blank">/d2l/api/lp/(version)/enrollments/orgUnits/(orgUnitId)/users/</a></li>
        <li>GET<a href="http://docs.valence.desire2learn.com/res/grade.html#get--d2l-api-le-(version)-(orgUnitId)-grades-" target="_blank">/d2l/api/le/(version)/(orgUnitId)/grades/</a></li>
    </ul>

    <h4>GradeItem</h4>
    <ul>
        <li>PUT <a href="http://docs.valence.desire2learn.com/res/grade.html#put--d2l-api-le-(version)-(orgUnitId)-grades-(gradeObjectId)" target="_blank">/d2l/api/le/(version)/(orgUnitId)/grades/(gradeObjectId)</a></li>
    </ul>

    <h4>Grade</h4>
    <ul>
        <li>PUT <a href="http://docs.valence.desire2learn.com/res/grade.html#put--d2l-api-le-(version)-(orgUnitId)-grades-(gradeObjectId)-values-(userId)" target="_blank">/d2l/api/le/(version)/(orgUnitId)/grades/(gradeObjectId)/values/(userId)</a></li>
    </ul>

    <h4>Python Specific</h4>
    <ul>
        <li>Uses <a href="http://docs.python-requests.org/en/latest/" target="_blank">Requests</a> library</li>
        <li>Brightspace example code: <a href="https://github.com/Brightspace/sample-valence-general-python" target="_blank">https://github.com/Brightspace/sample-valence-general-python</a></li>
    </ul>

    <h4>PHP Specific</h4>
    <ul>
        <li>Uses <a href="http://requests.ryanmccue.info" target="_blank">Requests</a> library</li>
        <li>Brightspace example code: <a href="https://github.com/Brightspace/valence-sdk-php/tree/master/samples/BasicSample" target="_blank">https://github.com/Brightspace/valence-sdk-php/tree/master/samples/BasicSample</a></li>
    </ul>

    <h2 id="toc_exclude">Revision History</h2>
    <h3 id="toc_exclude">Version 1.0 - 10/23/2017</h3>
    <p>Authors: Troy Nechanicky</p>
    <p>SQA: Harold Hodgins, Yi Ling Pang</p>
    <h3 id="toc_exclude">Version 2.0 - xx/xx/2017</h3>
    <p>- Added PHP specific information</p>
    <p>- Made User subclass of OrgMember</p>
    <p>- Renamed some attributes to match Brightspace naming</p>
    <p>- Made contructors all take JSON objects</p>
    <p>- Added additional notes</p>
    <p>- Added Additional Comments sections</p>
    <p>- Specified error handling</p>
    <p>- Changed request for getting user enrollments</p>
    <p>- Changed param type for _route functions</p>
    <p>- Removed individual functions for each request in API file. Now just <i>API.get</i> and <i>API.put</i> functions that are passed appropriate route</p>
    <p>- Removed mention of specific requests from API diagram</p>
    <p>- Grouped API reference section by class</p>
    <p>Authors: Sumeet Jhand, Troy Nechanicky</p>
    <p>SQA: Yi Ling Pang</p>
</body>

</html>
